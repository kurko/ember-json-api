/*! 
 * ember-json-api
 * Built on 2013-09-09
 * http://github.com/daliwali/ember-json-api
 * Copyright (c) 2013 Dali Zheng
 */
(function(){"use strict";var a=Ember.get,b=Ember.isNone;DS.JsonApiSerializer=DS.RESTSerializer.extend({extractSingle:function(a,b,c,d,e){var f=b.typeKey,g={};for(var h in c){var i=Ember.String.singularize(h);i==f&&Ember.isArray(c[h])?g[i]=c[h][0]:g[h]==c[h]}return this._super(a,b,g,d,e)},normalize:function(a,b,c){var d={};for(var e in b)if("links"!=e)d[Ember.String.camelize(e)]=b[e];else if("object"==typeof b[e])for(var f in b[e])d[Ember.String.camelize(f)]=b[e][f];return this._super(a,c,d)},serializeBelongsTo:function(c,d,e){var f=e.key,g=a(c,f);b(g)||(d.links=d.links||{},d.links[f]=a(g,"id"))},serializeHasMany:function(b,c,d){var e=d.key,f=DS.RelationshipChange.determineRelationshipType(b.constructor,d);("manyToNone"===f||"manyToMany"===f)&&(c.links=c.links||{},c.links[e]=a(b,e).mapBy("id"))}})}).call(this),function(){"use strict";var a=Ember.get;DS.JsonApiAdapter=DS.RESTAdapter.extend({serializer:DS.JsonApiSerializer.create(),rootForType:function(a){return Ember.String.pluralize(Ember.String.underscore(a))},findMany:function(a,b,c){return this.ajax(this.buildURL(b.typeKey),"GET",{data:{ids:c.join(",")}})},createRecord:function(a,b,c){var d={};return d[Ember.String.pluralize(b.typeKey)]=[a.serializerFor(b.typeKey).serialize(c,{includeId:!0})],this.ajax(this.buildURL(b.typeKey),"POST",{data:d})},updateRecord:function(b,c,d){var e={};e[Ember.String.pluralize(c.typeKey)]=[b.serializerFor(c.typeKey).serialize(d)];var f=a(d,"id");return this.ajax(this.buildURL(c.typeKey,f),"PUT",{data:e})}})}.call(this);